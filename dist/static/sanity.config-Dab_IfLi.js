import{defineType as s,defineField as t,defineConfig as o}from"sanity";import{structureTool as d}from"sanity/structure";import{visionTool as u}from"@sanity/vision";const m=s({name:"article",title:"Article",type:"document",fields:[t({name:"title",title:"Title",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"excerpt",title:"Excerpt",type:"text",rows:3}),t({name:"content",title:"Content",type:"array",of:[{type:"block"},{type:"image",options:{hotspot:!0}}]}),t({name:"featuredImage",title:"Featured Image",type:"image",options:{hotspot:!0}}),t({name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]}),t({name:"publishedAt",title:"Published At",type:"datetime",initialValue:()=>new Date().toISOString()}),t({name:"isPublished",title:"Published",type:"boolean",initialValue:!1}),t({name:"scheduledPublishAt",title:"Scheduled Publish Date",type:"datetime",description:"When this article should be automatically published",hidden:({document:e})=>e?.isPublished})],preview:{select:{title:"title",media:"featuredImage",publishedAt:"publishedAt"},prepare(e){const{title:l,media:i,publishedAt:n}=e;return{title:l,media:i,subtitle:n?new Date(n).toLocaleDateString():"No date"}}}}),p=s({name:"category",title:"Category",type:"document",fields:[t({name:"title",title:"Title",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"description",title:"Description",type:"text"})],preview:{select:{title:"title"}}}),c=s({name:"announcement",title:"Announcement",type:"document",fields:[t({name:"title",title:"Title",type:"string",validation:e=>e.required().max(100)}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"summary",title:"Summary",type:"text",rows:2,validation:e=>e.required().max(200),description:"Brief summary shown in announcement lists"}),t({name:"content",title:"Content",type:"array",of:[{type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"Quote",value:"blockquote"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"},{title:"Underline",value:"underline"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}},{type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessibility."}]}]}),t({name:"priority",title:"Priority",type:"string",options:{list:[{title:"Low",value:"low"},{title:"Normal",value:"normal"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],layout:"radio"},initialValue:"normal"}),t({name:"targetAudience",title:"Target Audience",type:"array",of:[{type:"string"}],options:{list:[{title:"All Members",value:"all"},{title:"Board Members",value:"board"},{title:"Committee Members",value:"committee"},{title:"Volunteers",value:"volunteers"},{title:"Donors",value:"donors"}]},validation:e=>e.required().min(1)}),t({name:"attachments",title:"Attachments",type:"array",of:[{type:"file",fields:[{name:"title",type:"string",title:"File Title"},{name:"description",type:"text",title:"Description"}]}]}),t({name:"publishedAt",title:"Published At",type:"datetime",initialValue:()=>new Date().toISOString()}),t({name:"expiresAt",title:"Expires At",type:"datetime",description:"Optional: When this announcement should no longer be displayed"}),t({name:"isPublished",title:"Published",type:"boolean",initialValue:!1}),t({name:"isPinned",title:"Pin to Top",type:"boolean",initialValue:!1,description:"Pinned announcements appear at the top of the list"}),t({name:"scheduledPublishAt",title:"Scheduled Publish Date",type:"datetime",description:"When this announcement should be automatically published",hidden:({document:e})=>e?.isPublished})],preview:{select:{title:"title",priority:"priority",publishedAt:"publishedAt",isPublished:"isPublished"},prepare(e){const{title:l,priority:i,publishedAt:n,isPublished:a}=e;return{title:`${{urgent:"🚨",high:"⚠️",normal:"📢",low:"💬"}[i]||"📢"} ${l}`,subtitle:`${a?"✅ Published":"📝 Draft"} • ${n?new Date(n).toLocaleDateString():"No date"}`}}},orderings:[{title:"Priority, Newest first",name:"priorityDesc",by:[{field:"priority",direction:"desc"},{field:"publishedAt",direction:"desc"}]},{title:"Published date, Newest first",name:"publishedAtDesc",by:[{field:"publishedAt",direction:"desc"}]}]}),y=s({name:"event",title:"Event",type:"document",fields:[t({name:"title",title:"Event Title",type:"string",validation:e=>e.required().max(100)}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"description",title:"Description",type:"text",rows:3,validation:e=>e.required()}),t({name:"content",title:"Detailed Information",type:"array",of:[{type:"block"},{type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]}]}),t({name:"featuredImage",title:"Featured Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]}),t({name:"startDate",title:"Start Date & Time",type:"datetime",validation:e=>e.required()}),t({name:"endDate",title:"End Date & Time",type:"datetime",validation:e=>e.min(e.valueOfField("startDate"))}),t({name:"location",title:"Location",type:"object",fields:[{name:"name",title:"Venue Name",type:"string",validation:e=>e.required()},{name:"address",title:"Address",type:"text",rows:2},{name:"city",title:"City",type:"string"},{name:"isOnline",title:"Online Event",type:"boolean",initialValue:!1},{name:"onlineLink",title:"Online Meeting Link",type:"url",hidden:({parent:e})=>!e?.isOnline}]}),t({name:"eventType",title:"Event Type",type:"string",options:{list:[{title:"Community Meeting",value:"meeting"},{title:"Cultural Event",value:"cultural"},{title:"Fundraising",value:"fundraising"},{title:"Educational Workshop",value:"workshop"},{title:"Social Gathering",value:"social"},{title:"Religious Ceremony",value:"religious"},{title:"Sports Event",value:"sports"},{title:"Other",value:"other"}]},validation:e=>e.required()}),t({name:"registrationRequired",title:"Registration Required",type:"boolean",initialValue:!1}),t({name:"registrationLink",title:"Registration Link",type:"url",hidden:({parent:e})=>!e?.registrationRequired}),t({name:"maxAttendees",title:"Maximum Attendees",type:"number",hidden:({parent:e})=>!e?.registrationRequired}),t({name:"contactPerson",title:"Contact Person",type:"object",fields:[{name:"name",title:"Name",type:"string"},{name:"email",title:"Email",type:"email"},{name:"phone",title:"Phone",type:"string"}]}),t({name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]}),t({name:"isPublished",title:"Published",type:"boolean",initialValue:!1}),t({name:"isFeatured",title:"Featured Event",type:"boolean",initialValue:!1,description:"Featured events appear prominently on the homepage"})],preview:{select:{title:"title",startDate:"startDate",eventType:"eventType",isPublished:"isPublished",media:"featuredImage"},prepare(e){const{title:l,startDate:i,eventType:n,isPublished:a,media:r}=e;return{title:`${{meeting:"🏛️",cultural:"🎭",fundraising:"💰",workshop:"📚",social:"🎉",religious:"⛪",sports:"⚽",other:"📅"}[n]||"📅"} ${l}`,subtitle:`${a?"✅ Published":"📝 Draft"} • ${i?new Date(i).toLocaleDateString():"No date"}`,media:r}}},orderings:[{title:"Start date, Newest first",name:"startDateDesc",by:[{field:"startDate",direction:"desc"}]},{title:"Start date, Oldest first",name:"startDateAsc",by:[{field:"startDate",direction:"asc"}]}]}),g=s({name:"page",title:"Page",type:"document",fields:[t({name:"title",title:"Page Title",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"metaDescription",title:"Meta Description",type:"text",rows:2,validation:e=>e.max(160),description:"Brief description for search engines (max 160 characters)"}),t({name:"content",title:"Page Content",type:"array",of:[{type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"},{title:"Underline",value:"underline"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"},{title:"Open in new tab",name:"blank",type:"boolean"}]}]}},{type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessibility."},{name:"caption",type:"string",title:"Caption"}]},{name:"callToAction",title:"Call to Action",type:"object",fields:[{name:"text",title:"Button Text",type:"string"},{name:"url",title:"URL",type:"url"},{name:"style",title:"Button Style",type:"string",options:{list:[{title:"Primary",value:"primary"},{title:"Secondary",value:"secondary"},{title:"Outline",value:"outline"}]},initialValue:"primary"}]}]}),t({name:"featuredImage",title:"Featured Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text"}]}),t({name:"showInNavigation",title:"Show in Navigation",type:"boolean",initialValue:!1,description:"Should this page appear in the main navigation menu?"}),t({name:"navigationOrder",title:"Navigation Order",type:"number",hidden:({parent:e})=>!e?.showInNavigation,description:"Lower numbers appear first in navigation"}),t({name:"isPublished",title:"Published",type:"boolean",initialValue:!1}),t({name:"publishedAt",title:"Published At",type:"datetime",initialValue:()=>new Date().toISOString()})],preview:{select:{title:"title",media:"featuredImage",isPublished:"isPublished",showInNavigation:"showInNavigation"},prepare(e){const{title:l,media:i,isPublished:n,showInNavigation:a}=e;return{title:l,subtitle:`${n?"✅ Published":"📝 Draft"}${a?" • 🧭 In Navigation":""}`,media:i}}}}),h=[m,c,y,g,p],f=e=>e.list().title("Content Management").items([e.listItem().title("📰 Content").child(e.list().title("Content Types").items([e.listItem().title("📢 Announcements").child(e.documentTypeList("announcement").title("Announcements").filter('_type == "announcement"').defaultOrdering([{field:"priority",direction:"desc"},{field:"publishedAt",direction:"desc"}])),e.listItem().title("📅 Events").child(e.documentTypeList("event").title("Events").filter('_type == "event"').defaultOrdering([{field:"startDate",direction:"desc"}])),e.listItem().title("📝 Articles").child(e.documentTypeList("article").title("Articles").filter('_type == "article"').defaultOrdering([{field:"publishedAt",direction:"desc"}])),e.listItem().title("📄 Pages").child(e.documentTypeList("page").title("Pages").filter('_type == "page"').defaultOrdering([{field:"title",direction:"asc"}]))])),e.divider(),e.listItem().title("📊 Content Status").child(e.list().title("Content by Status").items([e.listItem().title("✅ Published Content").child(e.list().title("Published Content").items([e.listItem().title("Published Announcements").child(e.documentTypeList("announcement").title("Published Announcements").filter('_type == "announcement" && isPublished == true').defaultOrdering([{field:"publishedAt",direction:"desc"}])),e.listItem().title("Published Events").child(e.documentTypeList("event").title("Published Events").filter('_type == "event" && isPublished == true').defaultOrdering([{field:"startDate",direction:"desc"}])),e.listItem().title("Published Articles").child(e.documentTypeList("article").title("Published Articles").filter('_type == "article" && isPublished == true').defaultOrdering([{field:"publishedAt",direction:"desc"}])),e.listItem().title("Published Pages").child(e.documentTypeList("page").title("Published Pages").filter('_type == "page" && isPublished == true').defaultOrdering([{field:"title",direction:"asc"}]))])),e.listItem().title("📝 Draft Content").child(e.list().title("Draft Content").items([e.listItem().title("Draft Announcements").child(e.documentTypeList("announcement").title("Draft Announcements").filter('_type == "announcement" && isPublished != true')),e.listItem().title("Draft Events").child(e.documentTypeList("event").title("Draft Events").filter('_type == "event" && isPublished != true')),e.listItem().title("Draft Articles").child(e.documentTypeList("article").title("Draft Articles").filter('_type == "article" && isPublished != true')),e.listItem().title("Draft Pages").child(e.documentTypeList("page").title("Draft Pages").filter('_type == "page" && isPublished != true'))]))])),e.divider(),e.listItem().title("🏷️ Organization").child(e.list().title("Organization & Categories").items([e.listItem().title("Categories").child(e.documentTypeList("category").title("Categories").filter('_type == "category"'))])),e.divider(),e.listItem().title("⭐ Featured Content").child(e.list().title("Featured Content").items([e.listItem().title("📌 Pinned Announcements").child(e.documentTypeList("announcement").title("Pinned Announcements").filter('_type == "announcement" && isPinned == true')),e.listItem().title("🌟 Featured Events").child(e.documentTypeList("event").title("Featured Events").filter('_type == "event" && isFeatured == true')),e.listItem().title("🧭 Navigation Pages").child(e.documentTypeList("page").title("Navigation Pages").filter('_type == "page" && showInNavigation == true').defaultOrdering([{field:"navigationOrder",direction:"asc"}]))]))]),D=o({name:"kalkidan-cms",title:"Kalkidan CMS",projectId:"w0wnv9ta",dataset:"production",plugins:[d({structure:f}),u()],schema:{types:h},document:{newDocumentOptions:(e,{creationContext:l})=>l.type==="global"?e.filter(i=>i.templateId!=="settings"):e}});export{D as s};
